<div class="map-page" *ngIf="!loading">

  <h1>Ubicaci√≥n del restaurante</h1>

  <!-- üîí NO PREMIUM -->
  <nz-card *ngIf="!restaurant?.isPremium" class="blocked">
    <h3>Funci√≥n Premium</h3>
    <p>
      Solo los restaurantes <strong>Premium</strong>
      pueden mostrar su ubicaci√≥n en el mapa.
    </p>
  </nz-card>

  <!-- ‚≠ê PREMIUM -->
  <ng-container *ngIf="restaurant?.isPremium">

    <!-- FORM -->
    <nz-card class="map-form">
      <label>URL del mapa (Google Maps / Waze)</label>

      <input
        nz-input
        [(ngModel)]="mapsUrl"
        (ngModelChange)="updatePreview()"
        placeholder="https://www.google.com/maps?q=..."
      />

     <button
  nz-button
  nzType="primary"
  [nzLoading]="saving"
  (click)="saveMap()">
  Guardar ubicaci√≥n
</button>

    </nz-card>

    <!-- PREVIEW -->
    <nz-card *ngIf="safeMapUrl" class="map-preview">
      <iframe
        [src]="safeMapUrl"
        loading="lazy">
      </iframe>
    </nz-card>

  </ng-container>

</div>
