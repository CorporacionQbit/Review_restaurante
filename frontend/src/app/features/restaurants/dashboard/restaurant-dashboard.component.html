<div *ngIf="loading" class="dashboard-loading">
  Cargando dashboard...
</div>

<div *ngIf="!loading" class="restaurant-dashboard">

  <!-- HEADER -->
  <div class="dashboard-header">
    <h1>{{ restaurant.name }}</h1>

    <div class="badges">
      <span
        class="badge"
        [ngClass]="{
          approved: restaurant.onboardingStatus === 'Aprobado',
          pending: restaurant.onboardingStatus === 'Pendiente',
          rejected: restaurant.onboardingStatus === 'Rechazado'
        }">
        {{ restaurant.onboardingStatus }}
      </span>

      <span *ngIf="restaurant.isPremium" class="badge premium">
        â­ Premium
      </span>
    </div>
  </div>

  <!-- PROGRESS -->
  <div class="progress-card">
    <div class="progress-info">
      <span>Progreso del restaurante</span>
      <strong>{{ progress }}%</strong>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" [style.width.%]="progress"></div>
    </div>
  </div>

  <!-- METRICS -->
  <div class="metrics">
    <div class="metric-card">
      <span class="icon">â­</span>
      <div>
        <small>Rating</small>
        <strong>{{ restaurant.avgRating || 0 }}</strong>
      </div>
    </div>

    <div class="metric-card">
      <span class="icon">ğŸ“</span>
      <div>
        <small>ReseÃ±as</small>
        <strong>{{ restaurant.totalReviews || 0 }}</strong>
      </div>
    </div>

    <div class="metric-card">
      <span class="icon">ğŸ“¸</span>
      <div>
        <small>ImÃ¡genes</small>
        <strong>{{ restaurant.images?.length || 0 }}</strong>
      </div>
    </div>

    <div class="metric-card">
      <span class="icon">ğŸ“°</span>
      <div>
        <small>Posts</small>
        <strong>{{ restaurant.posts?.length || 0 }}/2</strong>
      </div>
    </div>
  </div>

  <!-- ACTIONS -->
  <div class="actions-grid">

    <div class="action-card" (click)="go('images')">
      <div class="icon">ğŸ“¸</div>
      <h3>ImÃ¡genes</h3>
      <p>Sube y administra fotos</p>
    </div>

    <div class="action-card" (click)="go('map')">
      <div class="icon">ğŸ—ºï¸</div>
      <h3>UbicaciÃ³n</h3>
      <p>Configura el mapa</p>
    </div>

    <div
      class="action-card"
      [class.locked]="!restaurant.isPremium"
      (click)="restaurant.isPremium && go('menu')">
      <div class="icon">ğŸ“„</div>
      <h3>MenÃº</h3>
      <p *ngIf="restaurant.isPremium">MenÃº visible al pÃºblico</p>
      <p *ngIf="!restaurant.isPremium" class="locked-text">ğŸ”’ Solo Premium</p>
    </div>

    <div
      class="action-card"
      [class.locked]="!restaurant.isPremium"
      (click)="restaurant.isPremium && go('posts')">
      <div class="icon">ğŸ“°</div>
      <h3>Posts</h3>
      <p *ngIf="restaurant.isPremium">Promociones y novedades</p>
      <p *ngIf="!restaurant.isPremium" class="locked-text">ğŸ”’ Solo Premium</p>
    </div>

    <div
  class="action-card subscription-card"
  (click)="go('subscription')">

  <div class="icon">ğŸ’³</div>
  <h3>SuscripciÃ³n</h3>

  <p *ngIf="restaurant.isPremium">
    Plan Premium activo
  </p>

  <p *ngIf="!restaurant.isPremium">
    Plan Normal Â· Mejorar a Premium
  </p>
</div>

  </div>

</div>
