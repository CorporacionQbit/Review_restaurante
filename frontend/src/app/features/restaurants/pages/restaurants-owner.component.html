<div class="page-header centered">
  <div class="title-block">
    <h1>Mis restaurantes</h1>
    <p>Administra y gestiona tus restaurantes</p>
  </div>

  <button
    nz-button
    nzType="primary"
    class="create-btn"
    (click)="goToCreate()">
    + Crear nuevo restaurante
  </button>
</div>


<!-- LOADING -->
<div *ngIf="loading" class="center">
  Cargando restaurantes...
</div>

<!-- EMPTY -->
<div *ngIf="!loading && restaurants.length === 0" class="empty">
  No has registrado restaurantes todavÃ­a.
</div>

<!-- GRID -->
<div class="grid" *ngIf="!loading && restaurants.length">

  <nz-card
    *ngFor="let r of restaurants"
    class="restaurant-card"
    (click)="goToRestaurant(r.restaurantId)"
  >

    <div class="card-header">
      <h3>{{ r.name }}</h3>
      <span *ngIf="r.isPremium" class="badge-premium">Premium</span>
    </div>

    <p class="meta">
      {{ r.city }} Â· Zona {{ r.zone }}
    </p>

    <nz-tag
      [nzColor]="
        r.onboardingStatus === 'Aprobado'
          ? 'green'
          : r.onboardingStatus === 'Rechazado'
          ? 'red'
          : 'orange'
      ">
      {{ r.onboardingStatus }}
    </nz-tag>

    <div class="stats">
      â­ {{ r.avgRating }} ({{ r.totalReviews }})
    </div>

    <!-- OWNER ACTIONS -->
    <div class="owner-actions">

      <button
        nz-button
        nzType="default"
        (click)="goToImages(r.restaurantId); $event.stopPropagation()">
        ğŸ–¼ï¸ ImÃ¡genes
      </button>

      <button
        nz-button
        nzType="default"
        (click)="goToMap(r.restaurantId); $event.stopPropagation()">
        ğŸ“ Mapa
      </button>

      <button
        nz-button
        nzType="default"
        (click)="goToPosts(r.restaurantId); $event.stopPropagation()">
        ğŸ“¢ Pos
      </button>

    </div>

  </nz-card>

</div>
